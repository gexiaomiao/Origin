{% extends "base.html" %}
{% block weeklytrends %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="http://code.highcharts.com/highcharts.js"></script>

       <div class="row" style="min-height:100vh;">
                <div class="col-md-10 col-md-offset-1 text-center" style="padding-top:10vh; font-weight:300">
                        <h2>Top trending repositories in the last week</h2>
                </div>
		<div class="col-md-10 col-md-offset-1 text-center" style="font-size:100px; margin-top:10vh;">
                                    <div id="container" style="width:100%; height:400px;"></div>
			    <!--<script src="../static/js/weeklytrends.js"></script>-->
                                     <script>
                                          $(function () { 
                                            $('#container').highcharts({
                                               chart: {
                                                    type: 'column'
                                                },
                                                title: {
                                                    text: 'by # of Stars'
                                                },
                                                tooltip: {
                                                    valueSuffix: 'stars',
                                                    valueDecimals: 0
                                                },
                                                plotOptions: {
                                                    series: {
                                                        marker: {
                                                            radius: 6
                                                        }
                                                    }
                                                },
                                                legend: {
                                                    layout: 'vertical',
                                                    align: 'right',
                                                    verticalAlign: 'middle',
                                                    borderWidth: 0
                                                },
                                                xAxis: {
                                                    categories: ['{{trends[0][0]}}',
                                                                 '{{trends[1][0]}}', 
                                                                 '{{trends[2][0]}}', 
                                                                 '{{trends[3][0]}}',
                                                                 '{{trends[4][0]}}',
                                                                 '{{trends[5][0]}}',
                                                                 '{{trends[6][0]}}',
                                                                 '{{trends[7][0]}}',
                                                                 '{{trends[8][0]}}',
                                                                 '{{trends[9][0]}}'
                                                                 ], 
                                                    title: {
                                                        text: 'Repositories'
                                                    }
                                                },
                                                yAxis: {
                                                    title: {
                                                        text: 'Stars'
                                                    }
                                                },
                                                series: [{
                                                    name: 'Last week',
                                                    data: [{{trends[0][1]}},
                                                    {{trends[1][1]}},
                                                    {{trends[2][1]}},
                                                    {{trends[3][1]}},
                                                    {{trends[4][1]}},
                                                    {{trends[5][1]}},
                                                    {{trends[6][1]}},
                                                    {{trends[7][1]}},
                                                    {{trends[8][1]}},
                                                    {{trends[9][1]}}
                                                    ], 
                                                    color: '#43aaa3'
                                                }]
                                            });
                                    });
                                </script>
		</div>
        </div>

{% endblock %}
